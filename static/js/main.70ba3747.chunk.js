(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){e.exports=a(367)},281:function(e,t,a){},282:function(e,t,a){e.exports=a.p+"static/media/favicon.7c3156c2.ico"},285:function(e,t){},287:function(e,t){},359:function(e,t){},360:function(e,t){},367:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),s=a(165),i=a(416),c=a(38),m=a(31),d=a(407),u=a(166),h=a(369),p=a(402),E=a(403),g=a(406),b=a(404),f=a(415),v=a(84),w=a(401),S=a(154),x=a.n(S),N=a(153),k=a.n(N),y=a(405),O=Object(h.a)(function(e){return{card:{maxWidth:400,height:360},link:{height:24},header:{backgroundColor:v.a[200]},content:{padding:"10px 0px !important",textAlign:"center"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:w.a[700]}}});function j(e){var t=O(),a=r.a.useState(!1),n=Object(u.a)(a,2);n[0],n[1];return r.a.createElement(p.a,{className:t.card},r.a.createElement(E.a,{className:t.header,avatar:r.a.createElement(b.a,{"aria-label":"Recipe",className:t.avatar},e.avatar),action:r.a.createElement("div",null,r.a.createElement(f.a,{"aria-label":"Settings"},r.a.createElement(y.a,{component:c.b,color:"inherit",className:t.link,to:"/"},r.a.createElement(k.a,null))),r.a.createElement(f.a,{"aria-label":"Settings"},r.a.createElement(y.a,{component:c.b,color:"inherit",className:t.link,to:"/Sensors"},r.a.createElement(x.a,null)))),title:e.title,subheader:e.subheader}),r.a.createElement(g.a,{className:t.content},e.children))}var B=a(79),C=a(30),D=a(82),R=a(80),T=a(83),A=a(155),G=function(e){function t(){return Object(B.a)(this,t),Object(D.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object.assign({},this.props,{renderTo:this.el,width:270,title:"Pressure",height:270,units:"psi",minValue:0,maxValue:20,majorTicks:["0","2","4","6","8","10","12","14","16","18","20"],minorTicks:2,strokeTicks:!0,highlights:[{from:0,to:4,color:"rgba(10, 10, 10, .25)"},{from:4,to:6,color:"rgba(0, 255, 10, .50)"},{from:6,to:10,color:"rgba(255, 255, 10, .50)"},{from:10,to:20,color:"rgba(255, 50, 50, .50)"}],colorPlate:"#fff",borderShadowWidth:0,valueBox:!0,valueInt:2,needleType:"arrow",needleWidth:2,needleCircleSize:7,colorValueBoxRect:"#fff",needleCircleOuter:!0,needleCircleInner:!1,animationDuration:1500,animationRule:"linear"});this.gauge=new A.RadialGauge(e).draw()}},{key:"componentWillReceiveProps",value:function(e){this.gauge.value=e.value,this.gauge.update(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("canvas",{ref:function(t){e.el=t}})}}]),t}(r.a.Component);var W=function(e){return n.createElement(d.a,{container:!0,spacing:1},n.createElement(d.a,{item:!0,xs:12,md:4},n.createElement(j,{title:"Sensor Gas 1",avatar:"S1",subheader:"Unit 14/Middle Room"},n.createElement(G,{value:e.sensors.s1}))),n.createElement(d.a,{item:!0,xs:12,md:4},n.createElement(j,{title:"Sensor Gas F3",avatar:"S2",subheader:"Unit 23/Middle Room"},n.createElement(G,{value:e.sensors.s2}))),n.createElement(d.a,{item:!0,xs:12,md:4},n.createElement(j,{title:"Sensor Gas D2",avatar:"S3",subheader:"Unit F6-22/Boiler A"},n.createElement(G,{value:e.sensors.s3}))),n.createElement(d.a,{item:!0,xs:12,md:4},n.createElement(j,{title:"Sensor Gas L2",avatar:"S4",subheader:"Unit B22/Room A1"},n.createElement(G,{value:e.sensors.s4}))),n.createElement(d.a,{item:!0,xs:12,md:4},n.createElement(j,{title:"Sensor Gas T44",avatar:"S5",subheader:"Unit G7/Basement"},n.createElement(G,{value:e.sensors.s5}))),n.createElement(d.a,{item:!0,xs:12,md:4},n.createElement(j,{title:"Sensor Gas T45",avatar:"S6",subheader:"Unit G8/Basement A"},n.createElement(G,{value:e.sensors.s6}))))},P=a(167),I=a(156),M=function(e){return r.a.createElement(I.a,{height:e.height,data:e.data,options:e.options})},U=a(56),L=(a(281),Object(h.a)(function(e){return{root:{padding:e.spacing(1,1),textAlign:"center",height:300},bigAvatar:{margin:"15px auto",width:190,height:190},chart:{height:270},table:{height:"100%"},tbody:{height:"85%",overflowY:"auto",overflowX:"hidden"}}}));var V=function(){var e=L();return n.createElement(d.a,{container:!0,spacing:1},n.createElement(d.a,{item:!0,xs:12,md:4},n.createElement(P.a,{className:e.root},n.createElement(G,{value:3}))),n.createElement(d.a,{item:!0,xs:12,md:5},n.createElement(P.a,{className:e.root},n.createElement(U.a,{variant:"h6",gutterBottom:!0},"Device Information"),n.createElement("div",{style:{height:"85%",overflow:" auto"}},n.createElement("table",{className:"table-info",width:"100%"},n.createElement("tbody",{className:e.tbody},n.createElement("tr",null,n.createElement("td",{className:"bold"},"Seonsor ID"),n.createElement("td",null,":"),n.createElement("td",null,"S1")),n.createElement("tr",null,n.createElement("td",null,n.createElement("b",null,"Sensor Name")),n.createElement("td",null,":"),n.createElement("td",null,"Sensor Gas 1")),n.createElement("tr",null,n.createElement("td",null,n.createElement("b",null,"Vendor")),n.createElement("td",null,":"),n.createElement("td",null,"Advantech Ltd.")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Model Sensor"),n.createElement("td",null,":"),n.createElement("td",null,"FDD-877721XD-9N")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Range Value"),n.createElement("td",null,":"),n.createElement("td",null,"0 - 100 psi")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Description"),n.createElement("td",null,":"),n.createElement("td",null,"Monitoring NH3 Room Pressure")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Location"),n.createElement("td",null,":"),n.createElement("td",null,"Middle Room")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Target"),n.createElement("td",null,":"),n.createElement("td",null,"Unit 14")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Installed At"),n.createElement("td",null,":"),n.createElement("td",null,"03 Jan 2017")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Last Checked"),n.createElement("td",null,":"),n.createElement("td",null,"28 May 2019")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Last Repaired"),n.createElement("td",null,":"),n.createElement("td",null,"Never")),n.createElement("tr",null,n.createElement("td",{className:"bold"},"Condition"),n.createElement("td",null,":"),n.createElement("td",null,"80% (Good)"))))))),n.createElement(d.a,{item:!0,xs:12,md:3},n.createElement(P.a,{className:e.root},n.createElement(U.a,{variant:"h6",gutterBottom:!0},"Device Physic"),n.createElement(b.a,{alt:"Remy Sharp",src:a(282),className:e.bigAvatar}),n.createElement(U.a,{variant:"caption",gutterBottom:!0},"Taken at 15 Apr 2019"))),n.createElement(d.a,{item:!0,xs:12,md:12,lg:12},n.createElement(P.a,null,n.createElement(U.a,{style:{textAlign:"center"},variant:"h6",gutterBottom:!0},"Sensor Statistic (Today)"),n.createElement(M,{height:100,data:{labels:["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00"],datasets:[{borderColor:"#1976d2",backgroundColor:"rgba(0, 50, 200, .20)",label:"Pressure (psi)",data:[1,2,3,4,10,20,5,16]}]}}))))},H=a(37),J=a(81),z=a(158),F=a(4),X=a(6),Q=a(408),Y=a(414),$=a(409),q=a(410),K=a(412),Z=a(411),_=a(413),ee=a(160),te=a.n(ee),ae=a(161),ne=a.n(ae),re=a(164),le=a.n(re),oe=a(162),se=a.n(oe),ie=a(159),ce=a.n(ie),me=function(e){function t(e){var a;return Object(B.a)(this,t),(a=Object(D.a)(this,Object(R.a)(t).call(this,e))).handleDataMQTT=function(e,t){var n=t.toString(),r=JSON.parse(n);a.setState({sensors:r})},a.state={open:!0,sensors:{s1:0,s2:0,s3:0,s4:0,s5:0,s6:0}},a.handleDrawer=a.handleDrawer.bind(Object(H.a)(a)),a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"handleDrawer",value:function(){this.setState({open:!this.state.open})}},{key:"componentDidMount",value:function(){console.log("mount");var e=ce.a.connect("ws://dev.sabinsolusi.com:8083");e.on("connect",function(){console.log("CONNEC"),e.subscribe("sensors")}),e.on("message",this.handleDataMQTT),this.setState({open:!1})}},{key:"render",value:function(){var e=this.state.open;return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(Q.a,null),r.a.createElement($.a,{position:"absolute",className:Object(F.a)(this.props.classes.appBar,e&&this.props.classes.appBarShift)},r.a.createElement(q.a,{className:this.props.classes.toolbar},r.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawer,className:Object(F.a)(this.props.classes.menuButton,e&&this.props.classes.menuButtonHidden)},r.a.createElement(te.a,null)),r.a.createElement(U.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},r.a.createElement(y.a,{className:this.props.classes.link,color:"inherit",component:c.b,to:"/"},r.a.createElement(f.a,{color:"inherit"},r.a.createElement(ne.a,null))),this.props.title),r.a.createElement(f.a,{color:"inherit"},r.a.createElement(Z.a,{badgeContent:4,color:"secondary"},r.a.createElement(se.a,null))))),r.a.createElement(Y.a,{variant:"permanent",classes:{paper:Object(F.a)(this.props.classes.drawerPaper,!e&&this.props.classes.drawerPaperClose)},open:e},r.a.createElement("div",{className:this.props.classes.toolbarIcon},r.a.createElement(f.a,{onClick:this.handleDrawer},r.a.createElement(le.a,null))),r.a.createElement(K.a,null),r.a.createElement(K.a,null)),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(_.a,{maxWidth:"lg",className:this.props.classes.container},r.a.cloneElement(this.props.children,{sensors:this.state.sensors}))))}}]),t}(r.a.Component),de=Object(X.a)(function(e){return function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(z.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{backgroundColor:"#1976d2",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},link:{height:24,marginRight:10},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(J.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}(e)})(me);var ue=function(){return n.createElement(c.a,null,n.createElement(m.c,null,n.createElement(m.a,{exact:!0,path:"/",render:function(e){return n.createElement(de,Object.assign({},e,{title:"Dashboard"}),n.createElement(W,null))}}),n.createElement(m.a,{exact:!0,path:"/Sensors",render:function(e){return n.createElement(de,Object.assign({},e,{title:"Sensor Detail"}),n.createElement(V,null))}})))},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ee=Object(s.a)();o.a.render(r.a.createElement(i.a,{theme:Ee},r.a.createElement(ue,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");he?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pe(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):pe(t,e)})}}()}},[[172,1,2]]]);
//# sourceMappingURL=main.70ba3747.chunk.js.map